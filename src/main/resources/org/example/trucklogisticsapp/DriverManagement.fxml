<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="org.example.trucklogisticsapp.controller.DriverController"
      spacing="20"
      style="-fx-background-color: #f8f9fa; -fx-padding: 20;">

    <!-- Header with Stats -->
    <HBox spacing="20" alignment="CENTER_LEFT">
        <!-- Total Drivers Card -->
        <VBox alignment="CENTER" spacing="5"
              style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);"
              HBox.hgrow="ALWAYS">
            <Label text="Total Drivers" style="-fx-font-size: 14px; -fx-text-fill: #6c757d;"/>
            <Text fx:id="lblTotalDrivers" text="0"
                  style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-fill: #007bff;"/>
        </VBox>

        <!-- Available Drivers Card -->
        <VBox alignment="CENTER" spacing="5"
              style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);"
              HBox.hgrow="ALWAYS">
            <Label text="Available" style="-fx-font-size: 14px; -fx-text-fill: #6c757d;"/>
            <Text fx:id="lblAvailableDrivers" text="0"
                  style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-fill: #28a745;"/>
        </VBox>

        <!-- Average Rating Card -->
        <VBox alignment="CENTER" spacing="5"
              style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);"
              HBox.hgrow="ALWAYS">
            <Label text="Avg Rating" style="-fx-font-size: 14px; -fx-text-fill: #6c757d;"/>
            <Text fx:id="lblAvgRating" text="0.0"
                  style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-fill: #ffc107;"/>
        </VBox>
    </HBox>

    <!-- Table Container -->
    <VBox VBox.vgrow="ALWAYS"
          style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2); -fx-padding: 20;">

        <!-- Table Header -->
        <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 0 0 15 0;">
            <Label text="ðŸ‘¤ Driver Management"
                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"
                   HBox.hgrow="ALWAYS"/>
            <Button text="âž• Add Driver"
                    onAction="#handleAddDriver"
                    style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5; -fx-cursor: hand;"/>
        </HBox>

        <Separator/>

        <!-- Table -->
        <TableView fx:id="driverTable" VBox.vgrow="ALWAYS" style="-fx-padding: 10 0 0 0;">
            <columns>
                <TableColumn fx:id="colDriverId" text="ID" prefWidth="80" />
                <TableColumn fx:id="colName" text="Name" prefWidth="150" />
                <TableColumn fx:id="colLicense" text="License #" prefWidth="120" />
                <TableColumn fx:id="colPhone" text="Phone" prefWidth="130" />
                <TableColumn fx:id="colStatus" text="Status" prefWidth="100" />
                <TableColumn fx:id="colCompliance" text="Compliance" prefWidth="120" />
                <TableColumn fx:id="colEndorsements" text="Endorsements" prefWidth="150" />
                <TableColumn fx:id="colActions" text="Actions" prefWidth="130" />
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
            </columnResizePolicy>
        </TableView>
    </VBox>

</VBox>
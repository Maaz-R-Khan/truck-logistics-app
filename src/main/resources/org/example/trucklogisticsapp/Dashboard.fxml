<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="org.example.trucklogisticsapp.controller.DashboardController"
      spacing="24"
      styleClass="page-container">

    <padding>
        <Insets top="32" right="32" bottom="32" left="32"/>
    </padding>

    <!-- Page Header -->
    <VBox spacing="8">
        <Text text="Dashboard" styleClass="page-title"/>
        <Text text="Welcome back! Here's what's happening with your logistics operations." styleClass="page-subtitle"/>
    </VBox>

    <!-- Stats Cards Row -->
    <HBox spacing="20">
        <!-- Active Trucks -->
        <VBox styleClass="dashboard-stat-card" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="24" right="24" bottom="24" left="24"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="12">
                <StackPane styleClass="stat-icon-blue">
                    <Text text="ðŸš›" style="-fx-font-size: 24px;"/>
                </StackPane>
                <VBox HBox.hgrow="ALWAYS">
                    <Text text="Active Trucks" styleClass="stat-label-small"/>
                    <Text fx:id="lblActiveTrucks" text="24" styleClass="stat-value-large"/>
                    <Text text="+2 from last week" styleClass="stat-trend-positive"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Available Drivers -->
        <VBox styleClass="dashboard-stat-card" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="24" right="24" bottom="24" left="24"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="12">
                <StackPane styleClass="stat-icon-green">
                    <Text text="ðŸ‘¥" style="-fx-font-size: 24px;"/>
                </StackPane>
                <VBox HBox.hgrow="ALWAYS">
                    <Text text="Available Drivers" styleClass="stat-label-small"/>
                    <Text fx:id="lblAvailableDrivers" text="18" styleClass="stat-value-large"/>
                    <Text text="+1 from last week" styleClass="stat-trend-positive"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Pending Shipments -->
        <VBox styleClass="dashboard-stat-card" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="24" right="24" bottom="24" left="24"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="12">
                <StackPane styleClass="stat-icon-orange">
                    <Text text="ðŸ“¦" style="-fx-font-size: 24px;"/>
                </StackPane>
                <VBox HBox.hgrow="ALWAYS">
                    <Text text="Pending Shipments" styleClass="stat-label-small"/>
                    <Text fx:id="lblPendingShipments" text="42" styleClass="stat-value-large"/>
                    <Text text="-5 from last week" styleClass="stat-trend-negative"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Routes Optimized -->
        <VBox styleClass="dashboard-stat-card" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="24" right="24" bottom="24" left="24"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="12">
                <StackPane styleClass="stat-icon-purple">
                    <Text text="ðŸ—ºï¸" style="-fx-font-size: 24px;"/>
                </StackPane>
                <VBox HBox.hgrow="ALWAYS">
                    <Text text="Routes Optimized" styleClass="stat-label-small"/>
                    <Text fx:id="lblRoutesOptimized" text="156" styleClass="stat-value-large"/>
                    <Text text="+12 from last week" styleClass="stat-trend-positive"/>
                </VBox>
            </HBox>
        </VBox>
    </HBox>

    <!-- Content Row -->
    <HBox spacing="20" VBox.vgrow="ALWAYS">
        <!-- Fleet Utilization Card -->
        <VBox styleClass="content-card" HBox.hgrow="SOMETIMES" prefWidth="400">
            <padding>
                <Insets top="24" right="24" bottom="24" left="24"/>
            </padding>

            <HBox alignment="CENTER_LEFT" spacing="8">
                <Text text="ðŸ“ˆ" style="-fx-font-size: 20px;"/>
                <Text text="Fleet Utilization" styleClass="section-title"/>
            </HBox>

            <Text text="Current capacity usage across all trucks" styleClass="section-subtitle">
                <VBox.margin>
                    <Insets top="4" bottom="20"/>
                </VBox.margin>
            </Text>

            <VBox spacing="20">
                <!-- Average Load -->
                <VBox spacing="8">
                    <HBox alignment="CENTER_LEFT">
                        <Text text="Average Load" styleClass="metric-label" HBox.hgrow="ALWAYS"/>
                        <Text text="78%" styleClass="metric-value"/>
                    </HBox>
                    <ProgressBar progress="0.78" maxWidth="Infinity" styleClass="progress-bar-blue"/>
                </VBox>

                <!-- Fuel Efficiency -->
                <VBox spacing="8">
                    <HBox alignment="CENTER_LEFT">
                        <Text text="Fuel Efficiency" styleClass="metric-label" HBox.hgrow="ALWAYS"/>
                        <Text text="92%" styleClass="metric-value"/>
                    </HBox>
                    <ProgressBar progress="0.92" maxWidth="Infinity" styleClass="progress-bar-green"/>
                </VBox>

                <!-- On-Time Delivery -->
                <VBox spacing="8">
                    <HBox alignment="CENTER_LEFT">
                        <Text text="On-Time Delivery" styleClass="metric-label" HBox.hgrow="ALWAYS"/>
                        <Text text="85%" styleClass="metric-value"/>
                    </HBox>
                    <ProgressBar progress="0.85" maxWidth="Infinity" styleClass="progress-bar-purple"/>
                </VBox>
            </VBox>
        </VBox>

        <!-- Recent Shipments Card -->
        <VBox styleClass="content-card" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="24" right="24" bottom="24" left="24"/>
            </padding>

            <HBox alignment="CENTER_LEFT" spacing="8">
                <Text text="ðŸ“¦" style="-fx-font-size: 20px;"/>
                <Text text="Recent Shipments" styleClass="section-title"/>
            </HBox>

            <Text text="Latest shipment activities and updates" styleClass="section-subtitle">
                <VBox.margin>
                    <Insets top="4" bottom="20"/>
                </VBox.margin>
            </Text>

            <VBox spacing="16" VBox.vgrow="ALWAYS">
                <!-- Shipment 1 -->
                <HBox alignment="CENTER_LEFT" spacing="16" styleClass="shipment-item">
                    <StackPane styleClass="shipment-icon-blue">
                        <Text text="ðŸ“¦" style="-fx-font-size: 20px;"/>
                    </StackPane>
                    <VBox HBox.hgrow="ALWAYS">
                        <Text text="SH001" styleClass="shipment-id"/>
                        <Text text="Los Angeles, CA" styleClass="shipment-location"/>
                    </VBox>
                    <VBox alignment="CENTER_RIGHT">
                        <Label text="In Transit" styleClass="status-badge-blue"/>
                        <Text text="John Smith" styleClass="shipment-driver"/>
                    </VBox>
                    <VBox alignment="CENTER_RIGHT">
                        <Text text="2 hours" styleClass="shipment-time"/>
                        <Text text="ETA" styleClass="shipment-eta-label"/>
                    </VBox>
                </HBox>

                <!-- Shipment 2 -->
                <HBox alignment="CENTER_LEFT" spacing="16" styleClass="shipment-item">
                    <StackPane styleClass="shipment-icon-green">
                        <Text text="ðŸ“¦" style="-fx-font-size: 20px;"/>
                    </StackPane>
                    <VBox HBox.hgrow="ALWAYS">
                        <Text text="SH002" styleClass="shipment-id"/>
                        <Text text="Phoenix, AZ" styleClass="shipment-location"/>
                    </VBox>
                    <VBox alignment="CENTER_RIGHT">
                        <Label text="Delivered" styleClass="status-badge-green"/>
                        <Text text="Sarah Johnson" styleClass="shipment-driver"/>
                    </VBox>
                    <VBox alignment="CENTER_RIGHT">
                        <Text text="Completed" styleClass="shipment-time"/>
                        <Text text="ETA" styleClass="shipment-eta-label"/>
                    </VBox>
                </HBox>

                <!-- Shipment 3 -->
                <HBox alignment="CENTER_LEFT" spacing="16" styleClass="shipment-item">
                    <StackPane styleClass="shipment-icon-yellow">
                        <Text text="ðŸ“¦" style="-fx-font-size: 20px;"/>
                    </StackPane>
                    <VBox HBox.hgrow="ALWAYS">
                        <Text text="SH003" styleClass="shipment-id"/>
                        <Text text="Denver, CO" styleClass="shipment-location"/>
                    </VBox>
                    <VBox alignment="CENTER_RIGHT">
                        <Label text="Loading" styleClass="status-badge-yellow"/>
                        <Text text="Mike Wilson" styleClass="shipment-driver"/>
                    </VBox>
                    <VBox alignment="CENTER_RIGHT">
                        <Text text="4 hours" styleClass="shipment-time"/>
                        <Text text="ETA" styleClass="shipment-eta-label"/>
                    </VBox>
                </HBox>

                <!-- Shipment 4 -->
                <HBox alignment="CENTER_LEFT" spacing="16" styleClass="shipment-item">
                    <StackPane styleClass="shipment-icon-gray">
                        <Text text="ðŸ“¦" style="-fx-font-size: 20px;"/>
                    </StackPane>
                    <VBox HBox.hgrow="ALWAYS">
                        <Text text="SH004" styleClass="shipment-id"/>
                        <Text text="Seattle, WA" styleClass="shipment-location"/>
                    </VBox>
                    <VBox alignment="CENTER_RIGHT">
                        <Label text="Pending" styleClass="status-badge-gray"/>
                        <Text text="Unassigned" styleClass="shipment-driver"/>
                    </VBox>
                    <VBox alignment="CENTER_RIGHT">
                        <Text text="6 hours" styleClass="shipment-time"/>
                        <Text text="ETA" styleClass="shipment-eta-label"/>
                    </VBox>
                </HBox>

                <!-- Shipment 5 -->
                <HBox alignment="CENTER_LEFT" spacing="16" styleClass="shipment-item">
                    <StackPane styleClass="shipment-icon-blue">
                        <Text text="ðŸ“¦" style="-fx-font-size: 20px;"/>
                    </StackPane>
                    <VBox HBox.hgrow="ALWAYS">
                        <Text text="SH005" styleClass="shipment-id"/>
                        <Text text="Dallas, TX" styleClass="shipment-location"/>
                    </VBox>
                    <VBox alignment="CENTER_RIGHT">
                        <Label text="In Transit" styleClass="status-badge-blue"/>
                        <Text text="Lisa Brown" styleClass="shipment-driver"/>
                    </VBox>
                    <VBox alignment="CENTER_RIGHT">
                        <Text text="3 hours" styleClass="shipment-time"/>
                        <Text text="ETA" styleClass="shipment-eta-label"/>
                    </VBox>
                </HBox>
            </VBox>
        </VBox>
    </HBox>

    <!-- System Alerts -->
    <VBox styleClass="alerts-section" spacing="12">
        <HBox alignment="CENTER_LEFT" spacing="8">
            <Text text="âš ï¸" style="-fx-font-size: 18px;"/>
            <Text text="System Alerts" styleClass="section-title"/>
        </HBox>

        <!-- Alert 1 -->
        <HBox styleClass="alert-box-warning" spacing="16" alignment="CENTER_LEFT">
            <Text text="â°" style="-fx-font-size: 24px;"/>
            <VBox HBox.hgrow="ALWAYS">
                <Text text="Truck TRK-024 requires maintenance" styleClass="alert-title"/>
                <Text text="Scheduled maintenance due in 2 days" styleClass="alert-subtitle"/>
            </VBox>
        </HBox>

        <!-- Alert 2 -->
        <HBox styleClass="alert-box-success" spacing="16" alignment="CENTER_LEFT">
            <Text text="âœ…" style="-fx-font-size: 24px;"/>
            <VBox HBox.hgrow="ALWAYS">
                <Text text="Route optimization completed" styleClass="alert-title"/>
                <Text text="Saved 15% on fuel costs for today's routes" styleClass="alert-subtitle"/>
            </VBox>
        </HBox>
    </VBox>

</VBox>
